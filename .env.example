DATABASE_URL="file:./dev.db"

# Required: generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=

# Recommended in production behind nginx/caddy/traefik; leave 0 for direct access
TRUST_PROXY=0
# Optional: comma-separated trusted browser origins for CSRF guard behind reverse proxies
# Example: CSRF_TRUSTED_ORIGINS=https://music.example.com,https://music.internal.example.com
CSRF_TRUSTED_ORIGINS=

# Required in production: lock first-user setup behind a one-time secret
# Generate with: node -e "console.log(require('crypto').randomBytes(24).toString('hex'))"
SETUP_SECRET=

# Optional: Spotify integration
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
SPOTIFY_AUTH_TOKEN=

# Optional: max concurrent background download workers (default: 3)
DOWNLOAD_TASK_MAX_WORKERS=3

# Optional: SSE tuning for task live updates
TASK_SSE_POLL_MS=5000
TASK_SSE_MAX_CLIENTS=60
TASK_DETAIL_SSE_MAX_CLIENTS=120

# Optional: rate limiter backend ("database" shared across instances, or "memory")
RATE_LIMIT_BACKEND=database
# Optional: rate limit bucket size in milliseconds for database backend
RATE_LIMIT_BUCKET_MS=1000

# Optional: library scan workers/scheduling
LIBRARY_SCAN_MAX_WORKERS=1
LIBRARY_SCAN_INTERVAL_MINUTES=0
LIBRARY_SCAN_WATCH=0
LIBRARY_SCAN_WATCH_REFRESH_MS=300000

# Optional provider credentials (required to enable matching for those providers)
TIDAL_BASIC_AUTH=
TIDAL_TOKEN_HEADER=
QOBUZ_APP_ID=
QOBUZ_LOGIN_EMAIL=
QOBUZ_LOGIN_PASSWORD_MD5=
AMAZON_API_KEY=

# Optional: allow auto binary download during npm postinstall
ENABLE_AUTO_SETUP=1

# Optional: pin downloader release versions for reproducible installs
# These are known-good versions validated in this repository as of 2026-02-15.
YTDLP_VERSION=2026.02.04
SPOTDL_VERSION=4.4.3

# Optional: verify downloaded binary checksums during setup
# These match the pinned versions above as of 2026-02-15.
YTDLP_SHA256=051ed827a836f56772d662c38ebfabd8d613a21a39376737d56893184bcc53f8
SPOTDL_SHA256=f3b93e62972dd19f2b8b75c0c9e14bb35371132305190e4141d5eb7047054c8e
